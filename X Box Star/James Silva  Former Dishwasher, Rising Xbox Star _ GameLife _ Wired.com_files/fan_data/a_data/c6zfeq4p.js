/*
HTTP Host: static.ak.fbcdn.net
Generated: April 14th 2010 10:18:20 PM PDT
Machine: 10.16.140.107
Locale: nu_ll
Path: js/16hntin0h2m8ssc0.pkg.js
*/

((location=='about:blank'&&(window.parent.eval_global||window.parent.eval))||(window.eval_global||window.eval))("if (window.CavalryLogger) { CavalryLogger.start_js([\"js\\\/16hntin0h2m8ssc0.pkg.js\"]); }\n\nfunction object(b){var a=new Function();a.prototype=b;return new a();}function is_scalar(a){switch(typeof(a)){case 'string':case 'number':case 'null':case 'boolean':return true;}return false;}function keys(c){if(hasArrayNature(c))throw new TypeError('keys() was passed an array.');var b=[];for(var a in c)b.push(a);return b;}function values(b){if(hasArrayNature(b))throw new TypeError('values() was passed an array; use to_array().');var c=[];for(var a in b)c.push(b[a]);return c;}function count(c){if(hasArrayNature(c))throw new TypeError('count() was passed an array.');var a=0;for(var b in c)a++;return a;}function are_equal(a,b){return JSON.encode(a)==JSON.encode(b);}function merge(){var b={};for(var a=0;a<arguments.length;a++)copy_properties(b,arguments[a]);return b;}function obj_filter_keys(d,c){var e={};for(var a=0;a<c.length;a++){var b=c[a];if(b in d)e[b]=d[b];}return e;}function obj_intersect_keys(){var f={};var a=arguments[0];oloop:for(var c in a){if(!a.hasOwnProperty(c))continue;iloop:for(var b=1;b<arguments.length;b++){var e=arguments[b];for(var d in e)if(d===c){if(arguments.length-1===b)f[c]=a[c];continue iloop;}continue oloop;};};return f;}function head(b){for(var a in b)return b[a];return null;}Object.from=function(c,e){if(!hasArrayNature(c))throw new TypeError('Must pass an array of keys.');var d={};var b=hasArrayNature(e);if(typeof e=='undefined')e=true;for(var a=c.length;a--;)d[c[a]]=b?e[a]:e;return d;};function coalesce(){for(var a=0;a<arguments.length;++a)if(arguments[a]!=null)return arguments[a];return null;}\nfunction to_array(c){var d=[];for(var a=0,b=c.length;a<b;++a)d.push(c[a]);return d;}var $A=to_array;Array.prototype.alloc=function(a){return a?new Array(a):[];};Array.prototype.map=function(a,e){if(this==window)throw new TypeError();if(typeof(a)!==\"function\")throw new TypeError();var b;var c=this.length;var d=this.alloc(c);for(b=0;b<c;++b)if(b in this)d[b]=a.call(e,this[b],b,this);return d;};Array.prototype.forEach=function(a,b){this.map(a,b);return this;};Array.prototype.each=function(a,b){return this.forEach.apply(this,arguments);};Array.prototype.filter=function(a,e){a=a||identity;if(this==window)throw new TypeError();if(typeof(a)!==\"function\")throw new TypeError();var b,f,c=this.length,d=this.alloc();for(b=0;b<c;++b)if(b in this){f=this[b];if(a.call(e,f,b,this))d.push(f);}return d;};Array.prototype.every=function(a,b){return (this.filter(a,b).length==this.length);};Array.prototype.some=function(a,b){return (this.filter(a,b).length>0);};Array.prototype.pull=function(b){if(this==window)throw new TypeError();if(typeof(b)=='string'){var c=b;b=function(){return this[c];};}if(typeof(b)!=='function')throw new TypeError();var a=Array.prototype.slice.call(arguments,1);var e=this.length;var f=this.alloc(e);for(var d=0;d<e;++d)if(d in this)f[d]=b.apply(this[d],a);return f;};Array.prototype.pullEach=function(a){this.pull.apply(this,arguments);return this;};Array.prototype.filterEach=function(a){var d=this.pull.apply(this,arguments);var c=this.length;var e=this.alloc();for(var b=0;b<c;++b)if(b in this)e.push(this[b]);return e;};Array.prototype.reduce=null;Array.prototype.reduceRight=null;Array.prototype.sort=(function(a){return function(b){return (this==window)?null:(b?a.call(this,function(c,d){return b(c,d);}):a.call(this));};})(Array.prototype.sort);Array.prototype.reverse=(function(a){return function(){return (this==window)?null:a.call(this);};})(Array.prototype.reverse);Array.prototype.concat=(function(a){return function(){return (this==window)?null:a.apply(this,arguments);};})(Array.prototype.concat);Array.prototype.slice=(function(a){return function(){return (this==window)?null:a.apply(this,arguments);};})(Array.prototype.slice);Array.prototype.clone=Array.prototype.slice;if(Array.prototype.indexOf){Array.prototype.indexOf=(function(a){return function(c,b){return (this==window)?null:a.apply(this,arguments);};})(Array.prototype.indexOf);}else Array.prototype.indexOf=function(d,b){if(this==window)throw new TypeError();var c=this.length;var a=Number(b)||0;a=(a<0)?Math.ceil(a):Math.floor(a);if(a<0)a+=c;for(;a<c;a++)if(a in this&&this[a]===d)return a;return -1;};Array.prototype.contains=function(a){return this.indexOf(a)!=-1;};Array.prototype.remove=function(b){var a=this.indexOf(b);if(a!=-1)this.splice(a,1);};function mapToInt(a){return a.map(function(c,b){return parseInt(c,10);});}function unique(a){var c={};var d=[];for(var b=0;b<a.length;b++){var e=a[b];if(!c[e])d.push(e);c[e]=1;}return d;}function array_set_add(a,b){if(!a.contains(b))a.push(b);return a;}function array_intersect(a,b){var d=[];for(var c=0;c<a.length;c++)if(b.contains(a[c]))d.push(a[c]);return d;}Array.from=function(a){if(a instanceof Array)return a;return (a==null)?[]:hasArrayNature(a)?Array.prototype.slice.call(a):[a];};\nfunction muffinize(d){var c='a';var b='d';var a=[c,b].join('');return d.replace(\/muffin\/g,a);}var Util=window.Util||{isDevelopmentEnvironment:function(){return env_get('dev');},warn:bagofholding,error:bagofholding,info:bagofholding,group:bagofholding,groupEnd:bagofholding,dir:bagofholding,log:bagofholding,stack:bagofholding,trace:bagofholding,slog:bagofholding};if(typeof console=='undefined')console={log:bagofholding};\nfunction escapeURI(a){if(encodeURIComponent)return encodeURIComponent(a);if(escape)return escape(a);}function htmlspecialchars(a){if(typeof(a)=='undefined'||a===null||!a.toString)return '';if(a===false){return '0';}else if(a===true)return '1';return a.toString().replace(\/&\/g,'&amp;').replace(\/\"\/g,'&quot;').replace(\/'\/g,'&#039;').replace(\/<\/g,'&lt;').replace(\/>\/g,'&gt;');}function htmlize(a){return htmlspecialchars(a).replace(\/\\n\/g,'<br \/>');}function escape_js_quotes(a){if(typeof(a)=='undefined'||!a.toString)return '';return a.toString().replace(\/\\\\\/g,'\\\\\\\\').replace(\/\\n\/g,'\\\\n').replace(\/\\r\/g,'\\\\r').replace(\/\"\/g,'\\\\x22').replace(\/'\/g,'\\\\\\'').replace(\/<\/g,'\\\\x3c').replace(\/>\/g,'\\\\x3e').replace(\/&\/g,'\\\\x26');}\nwindow.aiert=(function(a){var b=function _aiert(c){if(window.last_alert){(window.alerts=window.alerts||[]).push((new Date()).getTime()-window.last_alert);window.alerts.splice(0,window.alerts.length-3);if(window.alerts.length==3&&window.alerts[0]+window.alerts[1]+window.alerts[2]<200){if(!confirm(c+'\\n\\nThis page may be caught in an infinite loop. Press \"Cancel\" to abort, or \"Ok\" to continue.'))window.aiert=bagofholding;window.last_alert=(new Date()).getTime();return;}}a(c);window.last_alert=(new Date()).getTime();};return b;})(window.alert);window.alert=function _alert(a){if(a!==undefined){(new Image()).src='\/ajax\/typeahead_callback.php?l='+escapeURI(document.location)+'&m='+escapeURI(a)+(typeof Env!='undefined'?'&t='+Math.round(((new Date()).getTime()-Env.start)\/100):'')+'&d='+escapeURI((typeof fbpd!='undefined')?JSON.encode(fbpd):'')+'&ai='+escapeURI(window.aiert)+'&al='+escapeURI(window.alert);return window.aiert(a);}};\nwindow.onloadRegister=function(a){window.loaded?_runHook(a):_addHook('onloadhooks',a);};function onafterloadRegister(a){window.afterloaded?setTimeout(function(){_runHook(a);},0):_addHook('onafterloadhooks',a);}function _onloadHook(){!window.loaded&&window.CavalryLogger&&CavalryLogger.getInstance().setTimeStamp('t_prehooks');_runHooks('onloadhooks');!window.loaded&&window.CavalryLogger&&CavalryLogger.getInstance().setTimeStamp('t_hooks');window.loaded=true;Arbiter.inform('uipage_onload',true,Arbiter.BEHAVIOR_STATE);if(window.logOnloadData)aggregate_js_onload('onloadRegister');}function _onafterloadHook(){_runHooks('onafterloadhooks');window.afterloaded=true;if(window.logOnloadData)aggregate_js_onload('onafterloadRegister');}function _runHook(a){try{a();}catch(ex){}}function _runHooks(c){var e=c=='onbeforeleavehooks'||c=='onbeforeunloadhooks';var g=null;if(window.logOnloadData){var f=new Date().getTime();window.totalHookTime=window.totalHookTime||{};}do{var b=window[c];if(!e)window[c]=null;if(!b)break;for(var d=0;d<b.length;d++)try{if(e){g=g||b[d]();}else b[d]();}catch(ex){}if(e)break;}while(window[c]);if(window.logOnloadData){var a=new Date().getTime();window.totalHookTime[c]=a-f;}if(e&&g)return g;}function keep_window_set_as_loaded(){if(window.loaded==false){window.loaded=true;_runHooks('onloadhooks');}if(window.afterloaded==false){window.afterloaded=true;_runHooks('onafterloadhooks');}}function log_js_onload(b,d,c){window.logOnloadData=window.logOnloadData||{};window.logOnloadData[b]=window.logOnloadData[b]||{};var a=window.logOnloadData[b];if(a[c]){a[c].count++;a[c].total_time+=d;}else{a[c]={};a[c]={count:1,total_time:d};}}function aggregate_js_onload(d){var c=window.logOnloadData[d];var a=[];var f=0;for(var e in c){f+=c[e].total_time;a.push(sprintf(\"%' 4.4d\",c[e].total_time)+'ms : '+sprintf(\"%' 2.2d\",c[e].count)+' calls : '+e.replace('Task_','(Task) '));}if(!a.length)return;a.sort().reverse();var b;if(d=='onloadRegister'){b='onloadhooks';}else b='onafterloadhooks';a.each(function(g){});window.logOnloadData[d]={};}Arbiter.registerCallback(_onloadHook,[OnloadEvent.ONLOAD_DOMCONTENT_CALLBACK,InitialJSLoader.INITIAL_JS_READY]);Arbiter.registerCallback(_onafterloadHook,[OnloadEvent.ONLOAD_DOMCONTENT_CALLBACK,OnloadEvent.ONLOAD_CALLBACK,InitialJSLoader.INITIAL_JS_READY]);Arbiter.subscribe(OnloadEvent.ONBEFOREUNLOAD,function(b,a){a.warn=_runHooks('onbeforeleavehooks')||_runHooks('onbeforeunloadhooks');if(!a.warn){window.loaded=false;window.afterloaded=false;}},Arbiter.SUBSCRIBE_NEW);Arbiter.subscribe(OnloadEvent.ONUNLOAD,function(b,a){_runHooks('onleavehooks');_runHooks('onunloadhooks');},Arbiter.SUBSCRIBE_NEW);\nfunction chain(d,e){var b,a=[];for(var c=0;c<arguments.length;c++)a.push(arguments[c]);b=function(event){event=event||window.event;for(var f=0;f<a.length;f++)if(a[f]&&a[f].apply(this,arguments)===false){return false;}else if(event&&event.cancelBubble)return true;return true;};b.toString=function(){return chain._toString(a);};return b;}if(!chain._toString)chain._toString=function(b){var d='chained fns',a=b.filter();for(var c=0;c<b.length;c++)d+='\\n'+b[c].toString();return d;};\nvoid(0);\nfunction RenderManager(a){copy_properties(this,{_isDirty:false,_obj:a});}copy_properties(RenderManager.prototype,{dirty:function(){if(!this._isDirty){this._isDirty=true;bind(this,this.doPaint).defer();}},doPaint:function(){this._isDirty=false;this._obj.paint();}});\nfunction CounterDisplay(a,f,g,d,c){copy_properties(this,{_name:a,_valueNode:$(f),_wrapperNode:$(g)||null,_statusClass:c,_rm:new RenderManager(this),_arbiterSubscription:null,_count:0});var b=this._valueNode.firstChild;if(b){var e=parseInt(b.nodeValue,10);if(!isNaN(e))this._count=e;}this._statusNode=d?$(d):null;this._subscribeAll();CounterDisplay.instances.push(this);onunloadRegister(this._destroy.bind(this),true);}copy_properties(CounterDisplay,{EVENT_TYPE_ADJUST:'CounterDisplay\/adjust',EVENT_TYPE_UPDATE:'CounterDisplay\/update',instances:[],adjustCount:function(a,b){Arbiter.inform(CounterDisplay.EVENT_TYPE_ADJUST+'\/'+a,b);},setCount:function(a,b){Arbiter.inform(CounterDisplay.EVENT_TYPE_UPDATE+'\/'+a,b);}});CounterDisplay.mixin({_destroy:function(){delete this._valueNode;delete this._wrapperNode;if(this._arbiterSubscription){Arbiter.unsubscribe(this._arbiterSubscription);delete this._arbiterSubscription;}CounterDisplay.instances.remove(this);},adjustCount:function(a){this._count=Math.max(0,this._count+a);this._rm.dirty();return this;},setCount:function(a){this._count=Math.max(0,a);this._rm.dirty();return this;},paint:function(){DOM.setContent(this._valueNode,this._count);if(this._wrapperNode)CSS.conditionClass(this._wrapperNode,'hidden_elem',this._count<=0);if(this._statusClass&&this._statusNode)CSS.conditionClass(this._statusNode,this._statusClass,this._count>0);},_subscribeAll:function(){var a=[CounterDisplay.EVENT_TYPE_ADJUST+'\/'+this._name,CounterDisplay.EVENT_TYPE_UPDATE+'\/'+this._name];this._arbiterSubscription=Arbiter.subscribe(a,this._onInform.bind(this),Arbiter.SUBSCRIBE_NEW);},_onInform:function(a,b){b=parseInt(b);if(isNaN(b))return;if(a.indexOf(CounterDisplay.EVENT_TYPE_ADJUST)!=-1){this.adjustCount(b);}else if(a.indexOf(CounterDisplay.EVENT_TYPE_UPDATE)!=-1){this.setCount(b);}else return;return;}});\nString.prototype.trim=function(){if(this==window)return null;return this.replace(\/^\\s*|\\s*$\/g,'');};function trim(a){try{return String(a.toString()).trim();}catch(ignored){return '';}}String.prototype.startsWith=function(a){if(this==window)return null;return this.substring(0,a.length)==a;};String.prototype.endsWith=function(a){if(this==window)return null;return this.length>=a.length&&this.substring(this.length-a.length)==a;};String.prototype.split=(function(a){return function(h,e){var b=\"\";if(h===null||e===null){return [];}else if(typeof h=='string'){return a.call(this,h,e);}else if(h===undefined){return [this.toString()];}else if(h instanceof RegExp){if(!h._2||!h._1){b=h.toString().replace(\/^[\\S\\s]+\\\/\/,\"\");if(!h._1)if(!h.global){h._1=new RegExp(h.source,\"g\"+b);}else h._1=1;}separator1=h._1===1?h:h._1;var i=(h._2?h._2:h._2=new RegExp(\"^\"+separator1.source+\"$\",b));if(e===undefined||e<0){e=false;}else{e=Math.floor(e);if(!e)return [];}var f,g=[],d=0,c=0;while((e?c++<=e:true)&&(f=separator1.exec(this))){if((f[0].length===0)&&(separator1.lastIndex>f.index))separator1.lastIndex--;if(separator1.lastIndex>d){if(f.length>1)f[0].replace(i,function(){for(var j=1;j<arguments.length-2;j++)if(arguments[j]===undefined)f[j]=undefined;});g=g.concat(this.substring(d,f.index),(f.index===this.length?[]:f.slice(1)));d=separator1.lastIndex;}if(f[0].length===0)separator1.lastIndex++;}return (d===this.length)?(separator1.test(\"\")?g:g.concat(\"\")):(e?g:g.concat(this.substring(d)));}else return a.call(this,h,e);};})(String.prototype.split);\nfunction HTML(a){if(this===window){if(a instanceof HTML)return a;return new HTML(a);}this._content=a;this._defer=false;this._extra_action='';this._nodes=null;this._inline_js=bagofholding;this._has_option_elements=false;return this;}copy_properties(HTML.prototype,{toString:function(){var a=this._content;if(this._extra_action)a+='<script type=\"text\/javascript\">'+this._extra_action+'<\/scr'+'ipt>';return a;},setAction:function(a){this._extra_action=a;return this;},getAction:function(){this._fillCache();var a=function(){this._inline_js();eval_global(this._extra_action);}.bind(this);if(this.getDeferred()){return a.defer.bind(a);}else return a;},setDeferred:function(a){this._defer=!!a;return this;},getDeferred:function(){return this._defer;},getContent:function(){return this._content;},getNodes:function(){this._fillCache();return this._nodes;},getRootNode:function(){return this.getNodes()[0];},hasOptionElements:function(){this._fillCache();return this._has_option_elements;},_fillCache:function(){if(null!==this._nodes)return;var d=this._content;if(!d){this._nodes=[];return;}d=d.replace(\/(<(\\w+)[^>]*?)\\\/>\/g,function(l,m,n){return n.match(\/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$\/i)?l:m+'><\/'+n+'>';});var h=d.trim().toLowerCase(),k=document.createElement('div'),b=false;var j=(!h.indexOf('<opt')&&[1,'<select multiple=\"multiple\" class=\"__WRAPPER\">','<\/select>'])||(!h.indexOf('<leg')&&[1,'<fieldset class=\"__WRAPPER\">','<\/fieldset>'])||(h.match(\/^<(thead|tbody|tfoot|colg|cap)\/)&&[1,'<table class=\"__WRAPPER\">','<\/table>'])||(!h.indexOf('<tr')&&[2,'<table><tbody class=\"__WRAPPER\">','<\/tbody><\/table>'])||((!h.indexOf('<td')||!h.indexOf('<th'))&&[3,'<table><tbody><tr class=\"__WRAPPER\">','<\/tr><\/tbody><\/table>'])||(!h.indexOf('<col')&&[2,'<table><tbody><\/tbody><colgroup class=\"__WRAPPER\">','<\/colgroup><\/table>'])||null;if(null===j){k.className='__WRAPPER';if(ua.ie()){j=[0,'<span style=\"display:none\">&nbsp;<\/span>',''];b=true;}else j=[0,'',''];}k.innerHTML=j[1]+d+j[2];while(j[0]--)k=k.lastChild;if(b)k.removeChild(k.firstChild);k.className!='__WRAPPER';if(0!=k.getElementsByTagName('option').length)this._has_option_elements=true;if(ua.ie()){var i;if(!h.indexOf('<table')&&-1==h.indexOf('<tbody')){i=k.firstChild&&k.firstChild.childNodes;}else if(j[1]=='<table>'&&-1==h.indexOf('<tbody')){i=k.childNodes;}else i=[];for(var f=i.length-1;f>=0;--f)if(i[f].nodeName&&i[f].nodeName.toLowerCase()=='tbody'&&i[f].childNodes.length==0)i[f].parentNode.removeChild(i[f]);}var g=k.getElementsByTagName('script');var a=[];for(var e=0;e<g.length;e++)if(g[e].src){a.push(Bootloader.requestResource.bind(Bootloader,'js',g[e].src));}else a.push(eval_global.bind(null,g[e].innerHTML));for(var e=g.length-1;e>=0;e--)g[e].parentNode.removeChild(g[e]);var c=function(){for(var l=0;l<a.length;l++)a[l]();};this._nodes=to_array(k.childNodes);this._inline_js=c;}});\nfunction List(b){if(arguments.length>1){for(var a=0;a<arguments.length;a++)this.push(arguments[a]);}else this.resize(b||0);}List.prototype.length=0;List.prototype.size=function(){return this.length;};List.prototype.resize=function(a){this.length=a;return this;};List.prototype.alloc=function(a){return new List(a);};List.prototype.toString=function(){return '['+this.join(', ')+']';};List.prototype.push=Array.prototype.push;List.prototype.pop=Array.prototype.pop;List.prototype.join=Array.prototype.join;List.prototype.map=Array.prototype.map;List.prototype.forEach=Array.prototype.forEach;List.prototype.each=Array.prototype.each;List.prototype.filter=Array.prototype.filter;List.prototype.every=Array.prototype.every;List.prototype.some=Array.prototype.some;List.prototype.pull=Array.prototype.pull;List.prototype.pullEach=Array.prototype.pullEach;List.prototype.pullFilter=Array.prototype.pullFilter;List.prototype.splice=Array.prototype.splice;\nDataStore=window.DataStore||{_storage:{},_elements:{},_tokenCounter:1,_NOT_IN_DOM_CONST:1,_getStorage:function(a){var b;if(typeof a=='string'){b='str_'+a;}else{b='elem_'+(a.__FB_TOKEN||(a.__FB_TOKEN=[DataStore._tokenCounter++]))[0];DataStore._elements[b]=a;}return DataStore._storage[b]||(DataStore._storage[b]={});},_shouldDeleteData:function(a){if(!a.nodeName)return false;try{if(null!=a.offsetParent)return false;}catch(ex){}if(document.documentElement.contains){return !document.documentElement.contains(a);}else return (document.documentElement.compareDocumentPosition(a)&DataStore._NOT_IN_DOM_CONST);},set:function(c,b,d){var a=DataStore._getStorage(c);a[b]=d;return c;},get:function(e,d,c){var b=DataStore._getStorage(e);var f=b[d];if((undefined===f)&&(typeof e.getAttribute=='function')){var a=e.getAttribute('data-'+d);f=(null===a)?undefined:a;}if((c!==undefined)&&(f===undefined))f=b[d]=c;return f;},remove:function(c,b){var a=DataStore._getStorage(c);delete a[b];return c;},cleanup:function(){var b,a;for(b in DataStore._elements){a=DataStore._elements[b];if(DataStore._shouldDeleteData(a)){delete DataStore._storage[b];delete DataStore._elements[b];}}}};\nwindow.Event=window.Event||function(){};Event.DATASTORE_KEY='Event.listeners';if(!Event.prototype)Event.prototype={};function $E(a){a=a||window.event||{};if(!a._inherits_from_prototype)for(var b in Event.prototype)try{a[b]=Event.prototype[b];}catch(ignored){}return a;}(function(){copy_properties(Event.prototype,{_inherits_from_prototype:true,stop:function(){this.cancelBubble=true;this.stopPropagation&&this.stopPropagation();return this;},prevent:function(){this.returnValue=false;this.preventDefault&&this.preventDefault();return this;},kill:function(){this.stop().prevent();return false;},getTarget:function(){var g=this.target||this.srcElement;return g?$(g):null;},getRelatedTarget:function(){var g=this.relatedTarget||this.fromElement;return g?$(g):null;},getModifiers:function(){var g={control:!!this.ctrlKey,shift:!!this.shiftKey,alt:!!this.altKey,meta:!!this.metaKey};g.access=ua.osx()?g.control:g.alt;g.any=g.control||g.shift||g.alt||g.meta;return g;}});copy_properties(Event,{listen:function(h,p,j,m){if(typeof h=='string')h=$(h,true);if(typeof m=='undefined')m=Event.Priority.NORMAL;if(typeof p=='object'){var i={};for(var o in p)i[o]=Event.listen(h,o,p[o],m);return i;}if(p.match(\/^on\/i))throw new TypeError(\"Bad event name `\"+event+\"': use `click', not `onclick'.\");p=p.toLowerCase();var k=DataStore.get(h,b,{});if(f[p]){var g=f[p];p=g.base;j=g.wrap(j);}a(h,p);var q=k[p];if(!(m in q))q[m]=[];var l=q[m].length,n=new EventHandlerRef(j,q[m],l);q[m].push(n);return n;},stop:function(g){return $E(g).stop();},prevent:function(g){return $E(g).prevent();},kill:function(g){return $E(g).kill();},getKeyCode:function(event){event=$E(event);if(!event)return false;switch(event.keyCode){case 63232:return 38;case 63233:return 40;case 63234:return 37;case 63235:return 39;case 63272:case 63273:case 63275:return null;case 63276:return 33;case 63277:return 34;}if(event.shiftKey)switch(event.keyCode){case 33:case 34:case 37:case 38:case 39:case 40:return null;}return event.keyCode;},getPriorities:function(){if(!e){var g=values(Event.Priority);g.sort(function(h,i){return h-i;});e=g;}return e;}});var e=null,b=Event.DATASTORE_KEY;var c=function(g){return function(h){if(!DOM.contains(this,h.getRelatedTarget()))return g.call(this,h);};};var f={mouseenter:{base:'mouseover',wrap:c},mouseleave:{base:'mouseout',wrap:c}};var a=function(g,k){var h='on'+k,i=DataStore.get(g,b);if(k in i){if(g[h]!==d)throw new Error(\"`\"+h+\"' listen handler gone!\");return;}i[k]={};var j=g[h];g[h]=d;if(j)Event.listen(g,k,j,Event.Priority.TRADITIONAL);};var d=function(event){event=$E(event);var n=event.type;if(!DataStore.get(this,b))throw new Error(\"Bad listenHandler context.\");var o=DataStore.get(this,b)[n];if(!o)throw new Error(\"No registered handlers for `\"+n+\"'.\");if(n=='click'){var i=DOM.getNearest(event.getTarget(),'a');if(i&&i.getAttribute&&i.getAttribute('href',2))user_action(i,'click',event);}var k=Event.getPriorities();for(var j=0;j<k.length;j++){var l=k[j];if(l in o){var g=o[l];for(var h=0;h<g.length;h++){if(!g[h])continue;var m=g[h].fire(this,event);if(m===false){return event.kill();}else if(event.returnValue===false){return false;}else if(event.cancelBubble)return event.stop();}}}};})();NodeAugment.add({listen:Event.listen});Event.Priority={URGENT:-20,TRADITIONAL:-10,NORMAL:0};function EventHandlerRef(b,a,c){this._handler=b;this._container=a;this._index=c;}EventHandlerRef.prototype={remove:function(){delete this._handler;delete this._container[this._index];},fire:function(a,event){return this._handler.call(a,event);}};function addEventBase(d,e,a,c){if(d.addEventListener){d.addEventListener(e,a,false);}else if(d.attachEvent){var b=e+a+c;d[\"e\"+b]=a;d[b]=function(){d[\"e\"+b](window.event);};d.attachEvent(\"on\"+e,d[b]);}return a;}function removeEventBase(d,e,a,c){if(d.removeEventListener){d.removeEventListener(e,a,false);}else if(d.detachEvent){var b=e+a+c;if(d[b]){d.detachEvent(\"on\"+e,d[b]);d[b]=null;d[\"e\"+b]=null;}}}\nwindow.CSS.setClass=function(b,a){$(b,true).className=a||'';return b;};window.CSS.conditionClass=function(c,a,b){return (b?CSS.addClass:CSS.removeClass)(c,a);};window.CSS.chooseClass=function(b,a,d,c){CSS.conditionClass(b,d,a);CSS.conditionClass(b,c,!a);};window.CSS.setStyle=function(a,b,c){a.style[b]=c;return a;};window.CSS.getStyle=function(b,d){b=$(b);function c(e){return e.replace(\/[A-Z]\/g,function(f){return '-'+f.toLowerCase();});}if(window.getComputedStyle)return window.getComputedStyle(b,null).getPropertyValue(c(d));if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(b,null);if(a)return a.getPropertyValue(c(d));if(d==\"display\")return \"none\";}if(b.currentStyle)return b.currentStyle[d];return b.style[d];};window.CSS.setOpacity=function(a,b){a=$(a);var c=(b==1);try{a.style.opacity=(c?'':''+b);}catch(ignored){}try{a.style.filter=(c?'':'alpha(opacity='+(b*100)+')');}catch(ignored){}};window.CSS.getOpacity=function(a){a=$(a);var b=CSS.getStyle(a,'filter');var c=null;if(b&&(c=\/(\\d+(?:\\.\\d+)?)\/.exec(b))){return parseFloat(c.pop())\/100;}else if(b=CSS.getStyle(a,'opacity')){return parseFloat(b);}else return 1;};window.CSS.Cursor={kGrabbable:'grabbable',kGrabbing:'grabbing',kEditable:'editable',set:function(a,b){a=$(a);a=a||document.body;switch(b){case CSS.Cursor.kEditable:b='text';break;case CSS.Cursor.kGrabbable:if(ua.firefox()){b='-moz-grab';}else b='move';break;case CSS.Cursor.kGrabbing:if(ua.firefox()){b='-moz-grabbing';}else b='move';break;}a.style.cursor=b;}};NodeAugment.add(window.CSS);\nfunction show(){for(var b=0;b<arguments.length;b++){var a=ge(arguments[b]);if(a&&a.style)a.style.display='';}return false;}function hide(){for(var b=0;b<arguments.length;b++){var a=ge(arguments[b]);if(a&&a.style)a.style.display='none';}return false;}function shown(a){a=ge(a);return (a.style.display!='none'&&!(a.style.display==''&&a.offsetWidth==0));}function toggle(){for(var b=0;b<arguments.length;b++){var a=$(arguments[b]);a.style.display=CSS.getStyle(a,\"display\")=='block'?'none':'block';}return false;}function toggleDisplayNone(){for(var b=0;b<arguments.length;b++){var a=$(arguments[b]);if(shown(a)){hide(a);}else show(a);}return false;}\nvar DOM={find:function(a,c){var b=DOM.scry(a,c);if(1!=b.length)return null;return b[0];},scry:function(j,w,t){var x=w.split(' ');var d=[j||document];var i=d[0]==document;for(var m=0;m<x.length;m++){if(d.length==0)break;if(x[m]=='')continue;var v=x[m];var s=[];var ze=false;if(v.charAt(0)=='^')if(m==0){ze=true;v=v.slice(1);}else return;v=v.replace(\/\\.\/g,' .');v=v.replace(\/\\#\/g,' #');v=v.replace(\/\\[\/g,' [');var za=v.split(' ');var zb=za[0]||'*';var n=za[1]&&za[1].charAt(0)=='#';if(n){var h=ge(za[1].slice(1),true);if(h&&('*'==zb||h.tagName.toLowerCase()==zb))for(var q=0;q<d.length;q++)if(ze&&DOM.contains(h,d[q])){s=[h];break;}else if(document==d[q]||DOM.contains(d[q],h)){s=[h];break;}}else{var zd=[];var c=d.length;for(var o=0;o<c;o++){if(ze){var k=[];var g=d[o].parentNode;var a=zb=='*';while(DOM.isNode(g,DOM.NODE_TYPES.ELEMENT)){if(a||g.tagName.toLowerCase()==zb)k.push(g);g=g.parentNode;}}else var k=d[o].getElementsByTagName(zb);var l=k.length;for(var r=0;r<l;r++)zd.push(k[r]);}var p;var e;for(var y=1;y<za.length;y++){var z=za[y];if(z.charAt(0)=='.'){p=true;e=new RegExp('\\\\b'+z.substring(1)+'\\\\b');}else p=false;for(var o=0;o<zd.length;o++){var zc=zd[o];if(!zc)continue;if(p){if(!e.test(zc.className))delete zd[o];continue;}else{var f=z.slice(1,z.length-1);if(f.indexOf('=')==-1){if(zc.getAttribute(f)===null){delete zd[o];continue;}}else{var u=f.split('=');var b=u[0];var zf=u[1];zf=zf.slice(1,zf.length-1);if(zc.getAttribute(b)!=zf){delete zd[o];continue;}}}}}for(var o=0;o<zd.length;o++)if(zd[o]){s.push(zd[o]);if(ze)break;}}d=s;}if(!t)for(var m=0;m<d.length;m++)d[m]=$(d[m]);return d;},getText:(function(){var a=document.createElement('div'),b=a.innerText==null?'textContent':'innerText';return function(c){if(!c){return '';}else if(DOM.isNode(c,DOM.NODE_TYPES.TEXT)){return c.data;}else return c[b];};})(),_getSelectionPrivate:function(a){var b=a?false:'';if(document.selection&&document.selection.createRange&&document.selection.createRange.text){b=a?true:document.selection.createRange().text;}else if(document.getSelection){b=a?true:document.getSelection();}else if(window.getSelection)b=a?true:window.getSelection();return b;},getSelectionSupported:function(){return DOM._getSelectionPrivate(true);},getSelection:function(){return DOM._getSelectionPrivate(false);},create:function(c,a,b,e){c=document.createElement(c);if(a){a=copy_properties({},a);if(a.style){copy_properties(c.style,a.style);delete a.style;}for(var d in a)if(d.toLowerCase().indexOf('on')==0){typeof a[d]!='function';Event.listen(c,d.substr(2),a[d]);delete a[d];}copy_properties(c,a);}if(b!=undefined)DOM.setContent(c,b);return $(c,e);},prependContent:function(c,b){if(!DOM.isNode(c))throw new Error('DOM.prependContent: reference element is not a node');var a=function(d){if(c.firstChild){c.insertBefore(d,c.firstChild);}else c.appendChild(d);};return DOM._addContent(b,a,c);},insertAfter:function(c,b){if(!DOM.isNode(c)||!c.parentNode)throw new Error('DOM.insertAfter: reference element is not a node');var a=function(d){if(c.nextSibling){c.parentNode.insertBefore(d,c.nextSibling);}else c.parentNode.appendChild(d);};return DOM._addContent(b,a,c.parentNode);},insertBefore:function(b,c){if(!DOM.isNode(c)||!c.parentNode)throw new Error('DOM.insertBefore: reference element is not a node or '+'does not have a parent.');var a=function(d){c.parentNode.insertBefore(d,c);};return DOM._addContent(b,a,c.parentNode);},setContent:function(b,a){if(!DOM.isNode(b))throw new Error('DOM.setContent: reference element is not a node');DOM.empty(b);return DOM.appendContent(b,a);},appendContent:function(c,b){if(!DOM.isNode(c))throw new Error('DOM.appendContent: reference element is not a node');var a=function(d){c.appendChild(d);};return DOM._addContent(b,a,c);},replace:function(c,b){if(!DOM.isNode(c)||!c.parentNode)throw new Error('DOM.replace: reference element must be a node with a'+' parent');var a=function(d){c.parentNode.replaceChild(d,c);};return DOM._addContent(b,a,c.parentNode);},_gettingCaretPosition:false,getCaretPosition:function(a){a=$(a);if(!DOM.isNode(a,['input','textarea']))return {start:undefined,end:undefined};if(!document.selection)return {start:a.selectionStart,end:a.selectionEnd};if(DOM.isNode(a,'input')){var c=document.selection.createRange();return {start:-c.moveStart('character',-a.value.length),end:-c.moveEnd('character',-a.value.length)};}else{if(!DOM._gettingCaretPosition){DOM._gettingCaretPosition=true;a.focus();DOM._gettingCaretPosition=false;}var c=document.selection.createRange();var d=c.duplicate();d.moveToElementText(a);d.setEndPoint('StartToEnd',c);var b=a.value.length-d.text.length;d.setEndPoint('StartToStart',c);return {start:a.value.length-d.text.length,end:b};}},setCaretPosition:function(c,f,a){c=$(c);if(document.selection){if(c.tagName=='TEXTAREA'){var b=c.value.indexOf(\"\\r\",0);while(b!=-1&&b<a){a--;if(b<f)f--;b=c.value.indexOf(\"\\r\",b+1);}}var d=c.createTextRange();d.collapse(true);d.moveStart('character',f);if(a!=undefined)d.moveEnd('character',a-f);d.select();}else{c.selectionStart=f;var e=a==undefined?f:a;c.selectionEnd=Math.min(e,c.value.length);c.focus();}},remove:function(a,b){a=$(a,true);if(a.parentNode){a.parentNode.removeChild(a);if(!b&&ua.ie()<8)try{}catch(ignored){}}},empty:function(a){a=$(a,true);while(a.firstChild)DOM.remove(a.firstChild);},contains:function(b,a){b=ge(b,true);a=ge(a,true);if(!b||!a){return false;}else if(b===a){return true;}else if(DOM.isNode(b,'#text')){return false;}else if(DOM.isNode(a,'#text')){return DOM.contains(b,a.parentNode);}else if(b.contains){return b.contains(a);}else if(b.compareDocumentPosition){return !!(b.compareDocumentPosition(a)&16);}else return false;},getRootElement:function(){var a=null;if(window.Quickling&&Quickling.isActive())a=ge('content');return a||document.body;},suppressSelection:function(a){if(typeof a.onselectstart!='undefined'){a.listen('selectstart',function(){return false;});}else if(typeof a.style.MozUserSelect!='undefined'){a.style.MozUserSelect='none';}else a.listen('mousedown',function(){return false;});return a;},isNode:function(c,d){if(typeof(Node)=='undefined')Node=null;try{if(!c||!((Node!=undefined&&c instanceof Node)||c.nodeName))return false;}catch(ignored){return false;}if(typeof(d)!=='undefined'){d=arrayize(d).map(function(f){return (f+'').toUpperCase();});var b,e;try{b=new String(c.nodeName).toUpperCase();e=c.nodeType;}catch(ignored){return false;}for(var a=0;a<d.length;a++)try{if(b==d[a]||e==d[a])return true;}catch(ignored){}return false;}return true;},NODE_TYPES:{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION_NODE:12},_addContent:function(d,a,l){if(d instanceof HTML&&-1==d.toString().indexOf('<scr'+'ipt')&&''==l.innerHTML){var g=ua.ie();if(!g||(g>7&&!DOM.isNode(l,['table','tbody','thead','tfoot','tr','select','fieldset']))){l.innerHTML=d;return;}}else if(DOM.isNode(l,DOM.NODE_TYPES.TEXT)){l.data=d;return;}var i,e=[],b=[];var f=document.createDocumentFragment();if(!(d instanceof Array))d=[d];for(var h=0;h<d.length;h++){i=d[h];if(i instanceof HTML){b.push(i.getAction());var k=i.getNodes(),c;for(var j=0;j<k.length;j++){c=(ua.safari()||(ua.ie()&&i.hasOptionElements()))?k[j]:k[j].cloneNode(true);e.push(c);f.appendChild(c);}}else if(is_scalar(i)){var m=document.createTextNode(i);e.push(m);f.appendChild(m);}else if(DOM.isNode(i)){e.push(i);f.appendChild(i);}else if(!(i instanceof Array))i!==null;}a(f);for(var h=0;h<b.length;h++)b[h]();return e;},getNearest:function(a,b){while(a&&!DOM.isNode(a,b))a=a.parentNode;return a;},findParentByClass:function(b,a){while(DOM.isNode(b)){if(CSS.hasClass(b,a))return b;b=b.parentNode;}return null;}};function $N(c,a,b){if(typeof a!='object'||DOM.isNode(a)||a instanceof Array||a instanceof HTML){b=a;a=null;}return DOM.create(c,a,b);}var $$=function _$$(a){return DOM.scry.apply(null,[document].concat($A(arguments)));};NodeAugment.add({setContent:DOM.setContent,prependContent:DOM.prependContent,appendContent:DOM.appendContent,replace:DOM.replace,remove:DOM.remove,empty:DOM.empty,scry:DOM.scry,find:DOM.find,isNode:DOM.isNode,getText:DOM.getText});\nfunction DOMControl(a){copy_properties(this,{root:a&&$(a),updating:false});if(a)a.getControl=identity.bind(null,this);}copy_properties(DOMControl.prototype,{getRoot:function(){return this.root;},beginUpdate:function(){if(this.updating)return false;this.updating=true;return true;},endUpdate:function(){this.updating=false;},update:function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate();}});\nfunction TextInputControl(b){this.parent.construct(this,b);copy_properties(this,{placeholderText:null,maxLength:this.getRoot().maxLength||null,radio:null,focused:false,interval:null,nativePlaceholder:false});var a=this.getRoot();if((String(a.type).toLowerCase()=='search')&&ua.safari()){this.nativePlaceholder=true;this.setPlaceholderText(a.getAttribute('placeholder'));}addEventBase(a,'focus',this.onfocus.bind(this));addEventBase(a,'blur',this.onblur.bind(this));var c=this.update.bind(this);Event.listen(a,{keyup:c,keydown:c,keypress:c});this.setFocused(false);}TextInputControl.extend('DOMControl');copy_properties(TextInputControl.prototype,{associateWithRadioButton:function(a){this.radio=a&&$(a);return this;},setMaxLength:function(a){var b=this.getRoot();this.maxLength=a;if(a){b.maxLength=a;}else b.removeAttribute('maxlength');return this;},getValue:function(){if(!this.focused&&this.getRoot().value==this.placeholderText)return null;return this.getRoot().value;},isEmpty:function(){var a=this.getValue();return (a===null||a=='');},setValue:function(a){this.getRoot().value=a;this.update();return this;},clear:function(){return this.setValue('');},isFocused:function(){return this.focused;},setFocused:function(b){var a=this.isEmpty();this.focused=b;if(this.placeholderText&&!this.nativePlaceholder){var c=this.getRoot();var d=c.value;if(this.focused){CSS.removeClass(c,'DOMControl_placeholder');if(a)this.clear();}else if(a){CSS.addClass(c,'DOMControl_placeholder');this.setValue(this.placeholderText);}}this.update();return this;},setPlaceholderText:function(a){this.placeholderText=a;if(this.nativePlaceholder)this.getRoot().setAttribute('placeholder',a);return this.setFocused(this.isFocused());},getPlaceholderText:function(){return this.placeholderText;},onupdate:function(){if(this.radio)if(this.focused)this.radio.checked=true;var d=this.getRoot();if(this.maxLength>0)if(d.value.length>this.maxLength){var e=d.value;var c=e.length-this.maxLength;var a=DOM.getCaretPosition(d);var b=a.end||e.length;d.value=e.substring(0,b-c)+e.substring(b);if(typeof a.start!='undefined')DOM.setCaretPosition(d,a.start-c,Math.max(a.start,a.end)-c);}this.setFocused(this.focused);},onfocus:function(){this.setFocused(true);if(this.interval)clearInterval(this.interval);this.interval=setInterval(this.update.bind(this),150);return this;},onblur:function(){this.setFocused(false);if(this.interval)this.interval=clearInterval(this.interval);return this;}});function placeholderSetup(a){if(!ge(a))return;if(!$(a).getAttribute('placeholder'))return;return new TextInputControl($(a)).setPlaceholderText($(a).getAttribute('placeholder'));}\nfunction Vector2(b,c,a){copy_properties(this,{x:parseFloat(b),y:parseFloat(c),domain:a||'pure'});}copy_properties(Vector2.prototype,{toString:function(){return '('+this.x+', '+this.y+')';},add:function(c,d){if(arguments.length==1){if(c.domain!='pure')c=c.convertTo(this.domain);return this.add(c.x,c.y);}var a=parseFloat(c);var b=parseFloat(d);return new Vector2(this.x+a,this.y+b,this.domain);},mul:function(a,b){if(typeof(b)==\"undefined\")b=a;return new Vector2(this.x*a,this.y*b,this.domain);},sub:function(a,b){if(arguments.length==1){return this.add(a.mul(-1));}else return this.add(-a,-b);},distanceTo:function(a){return this.sub(a).magnitude();},magnitude:function(){return Math.sqrt((this.x*this.x)+(this.y*this.y));},convertTo:function(a){if(a!='pure'&&a!='viewport'&&a!='document')return new Vector2(0,0);if(a==this.domain)return new Vector2(this.x,this.y,this.domain);if(a=='pure')return new Vector2(this.x,this.y);if(this.domain=='pure')return new Vector2(0,0);var b=Vector2.getScrollPosition('document');var c=this.x,d=this.y;if(this.domain=='document'){c-=b.x;d-=b.y;}else{c+=b.x;d+=b.y;}return new Vector2(c,d,a);},setElementPosition:function(a){var b=this.convertTo('document');a.style.left=parseInt(b.x)+'px';a.style.top=parseInt(b.y)+'px';return this;},setElementDimensions:function(a){return this.setElementWidth(a).setElementHeight(a);},setElementWidth:function(a){a.style.width=parseInt(this.x,10)+'px';return this;},setElementHeight:function(a){a.style.height=parseInt(this.y,10)+'px';return this;},scrollElementBy:function(a){if(a==document.body){window.scrollBy(this.x,this.y);}else{a.scrollLeft+=this.x;a.scrollTop+=this.y;}return this;}});copy_properties(Vector2,{compass:{east:'e',west:'w',north:'n',south:'s',center:'center',northeast:'ne',northwest:'nw',southeast:'se',southwest:'sw'},getEventPosition:function(b,a){a=a||'document';b=$E(b);var d=b.pageX||(b.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));var e=b.pageY||(b.clientY+(document.documentElement.scrollTop||document.body.scrollTop));var c=new Vector2(d,e,'document');return c.convertTo(a);},getScrollPosition:function(a){a=a||'document';var b=document.body.scrollLeft||document.documentElement.scrollLeft;var c=document.body.scrollTop||document.documentElement.scrollTop;return new Vector2(b,c,'document').convertTo(a);},getElementPosition:function(b,a){if('getBoundingClientRect' in document.documentElement){this.getElementPosition=function(e,d){d=d||'document';if(!e)return;var g=e.getBoundingClientRect(),c=document.documentElement,f=g.left-c.clientLeft,h=g.top-c.clientTop;return new Vector2(f,h,'document').add(Vector2.getScrollPosition('document')).convertTo(d);};}else this.getElementPosition=function(d,c){c=c||'document';if(!d)return;if(ua.safari()<500&&d.tagName=='TR')d=d.firstChild;var f=d.offsetLeft;var i=d.offsetTop;var g=d.offsetParent;var e=false;while(d.parentNode&&document.body!=d.parentNode&&document.body!=d.parentNode){d=d.parentNode;if(!isNaN(d.scrollTop))if(!(ua.opera()<9.5)||!operaIgnoreScroll[window.getComputedStyle(d,'').getPropertyValue('display')]){i-=d.scrollTop;f-=d.scrollLeft;}if(g==d){if(ua.safari()<500&&d.tagName=='TR'){i+=d.firstChild.offsetTop;f+=d.firstChild.offsetLeft;}else{i+=d.offsetTop;f+=d.offsetLeft;}g=d.offsetParent;}if(g&&CSS.getStyle(g,'position')=='fixed'){e=true;i+=g.offsetTop;f+=g.offsetLeft;break;}}if(e){var h=Vector2.getScrollPosition('document');f+=h.x;i+=h.y;}return new Vector2(f,i,'document').convertTo(c);};return this.getElementPosition(b,a);},getElementDimensions:function(b,d){if(ua.safariPreWebkit()&&b.nodeName=='TR'){var c=b.getElementsByTagName('td');var a=Vector2.getElementCompassPoint(c[c.length-1],Vector2.compass.southeast,d).sub(Vector2.getElementPosition(c[0],'document',d));return a;}var e=(d?b.clientWidth:b.offsetWidth)||0;var f=(d?b.clientHeight:b.offsetHeight)||0;return new Vector2(e,f);},getHiddenElementDimensions:function(a){var b=$(a);var c=b.style;var g=c.visibility;var f=c.position;var e=c.display;if(e=='none'){c.visibility='hidden';c.position='absolute';c.display='block';}var d=Vector2.getElementDimensions(b);c.display=e;c.position=f;c.visibility=g;return d;},getElementCompassPoint:function(c,f,e){f=f||Vector2.compass.southeast;var d=Vector2.getElementPosition(c);var b=Vector2.getElementDimensions(c,e);var a=Vector2.compass;switch(f){case a.east:return d.add(b.x,b.y*.5);case a.west:return d.add(0,b.y*.5);case a.north:return d.add(b.x*.5,0);case a.south:return d.add(b.x*.5,b.y);case a.center:return d.add(b.mul(.5));case a.northwest:return d;case a.northeast:return d.add(b.x,0);case a.southwest:return d.add(0,b.y);case a.southeast:return d.add(b);}return d;},getViewportDimensions:function(){var a=(window&&window.innerWidth)||(document&&document.documentElement&&document.documentElement.clientWidth)||(document&&document.body&&document.body.clientWidth)||0;var b=(window&&window.innerHeight)||(document&&document.documentElement&&document.documentElement.clientHeight)||(document&&document.body&&document.body.clientHeight)||0;return new Vector2(a,b,'viewport');},getDocumentDimensions:function(){var a=(document&&document.documentElement&&document.documentElement.scrollWidth)||(document&&document.body&&document.body.scrollWidth)||0;var b=(document&&document.documentElement&&document.documentElement.scrollHeight)||(document&&document.body&&document.body.scrollHeight)||0;return new Vector2(a,b,'document');},scrollIntoView:function(a){var b=a.offsetParent;var d=Rect(a);var c=d.boundWithin(Rect(b)).getPositionVector();d.getPositionVector().sub(c).scrollElementBy(b);}});var operaIgnoreScroll={table:true,'inline-table':true,inline:true};function elementX(a){return Vector2.getElementPosition(a,'document').x;}function elementY(a){return Vector2.getElementPosition(a,'document').y;}NodeAugment.add({getPosition:Vector2.getElementPosition,getDimensions:Vector2.getElementDimensions,getHiddenDimensions:Vector2.getHiddenElementDimensions,getCompassPoint:Vector2.getElementCompassPoint});\nfunction TextAreaControl(a){copy_properties(this,{autogrow:false,clearHeightOnBlur:false,shadow:null,originalHeight:null,metricsValue:null});this.parent.construct(this,a);}TextAreaControl.extend('TextInputControl');copy_properties(TextAreaControl.prototype,{setAutogrow:function(a,b){this.autogrow=a;this.clearHeightOnBlur=b;this.refreshShadow();CSS.addClass(this.getRoot(),'DOMControl_autogrow');return this;},setFocused:function(a){if(this.autogrow&&!a&&this.isEmpty()&&this.clearHeightOnBlur)this.getRoot().style.height='';return this.parent.setFocused(a);},setOriginalHeight:function(a){this.originalHeight=a;return this;},onupdate:function(){this.parent.onupdate();var a=this.getRoot();if(this.autogrow&&a.value!=this.metricsValue){this.metricsValue=a.value;if(CSS.getStyle(a,'fontSize')==\"\")return false;copy_properties(this.shadow.style,{fontSize:parseInt(CSS.getStyle(a,'fontSize'),10)+'px',fontFamily:CSS.getStyle(a,'fontFamily'),width:Math.max(Vector2.getElementDimensions(a).x-8,0)+'px'});DOM.setContent(this.shadow,HTML(htmlize(a.value)));if(this.isEmpty()){a.style.height='';}else a.style.height=Math.max(this.originalHeight,Vector2.getElementDimensions(this.shadow).y+15)+'px';}},refreshShadow:function(){if(this.autogrow){this.shadow=$N('div',{className:'DOMControl_shadow'});DOM.getRootElement().appendChild(this.shadow);var a=this.getRoot();if(!this.originalHeight)this.originalHeight=parseInt(CSS.getStyle(a,'height'),10)||Vector2.getElementDimensions(this.getRoot()).y;}else{if(this.shadow)DOM.remove(this.shadow);this.shadow=null;}}});function autogrow_textarea(a){a=$(a);if(!a._hascontrol){a._hascontrol=true;new TextAreaControl(a).setAutogrow(true);}}\nJSCC=function(){var a={},b={};return {get:function(c){if(c in b){return b[c];}else{b[c]=a[c]();delete a[c];return b[c];}},init:function(d,c){if(c){a={};b={};}JSCC.put(d);},put:function(c){copy_properties(a,c);}};}();\nPYMK={addOthers:function(a){var b=$$('input[name=\"pymk_replace\"]').pull('value').join(',');var c=$N('input',{name:'unwanted',type:'hidden',value:b});$(a).appendContent(c);}};\nfunction ufi_add_textarea_control(c,d){var a=DOM.scry($('content'),'textarea.add_comment_text');var b=function(e){if(!e._has_control){new TextAreaControl(e).setMaxLength(c).setAutogrow(true,true).setPlaceholderText(d).onfocus();e._has_control=true;}};a.forEach(function(e){if(!e.hasClass('DOMControl_placeholder')){b(e);}else if(!e._has_control)Event.listen(e,\"focus\",bind(null,b,e));});}\n\nif (window.Bootloader) { Bootloader.done([\"js\\\/16hntin0h2m8ssc0.pkg.js\"]); }")