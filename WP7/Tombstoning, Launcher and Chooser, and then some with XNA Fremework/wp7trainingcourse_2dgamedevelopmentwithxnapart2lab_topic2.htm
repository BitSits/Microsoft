<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">  <meta http-equiv="X-UA-Compatible" content="IE=8"> <meta name="search.content.shortId" content="gg266468"> <meta name="search.content.locale" content="en-us"> <meta name="MN" content="B9D26F3F-10:46:23 PM"> <meta http-equiv="content-language" content="en"> <link rel="canonical" href="http://msdn.microsoft.com/en-us/gg266468"> <meta name="NormalizedUrl" href="http://msdn.microsoft.com/en-us/gg266468%28d=default,l=en-us,v=MSDN.10%29.aspx"> <link href="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/StoCodeHighlighter.css" type="text/css" rel="stylesheet"><link href="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/default_003.css" type="text/css" rel="stylesheet"><link href="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/default.css" type="text/css" rel="stylesheet"><link href="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/default_002.css" type="text/css" rel="stylesheet"> <title>Exercise 1: Play Background Music</title><style type="text/css">/* Chili -- cs */
.cs__mlcom { color: #4040c2; }
.cs__com { color: green; }
.cs__string { color: teal; }
.cs__preproc { color: red; }
.cs__number { color: red; }
.cs__keyword { color: navy; font-weight: bold; }</style></head><body id="MTPS_Body" class="MsdnPageBody"> <div id="BodyBackground"> <div id="JelloSizer"> <div id="JelloExpander"> <div id="JelloWrapper"> <div class="Clear"> </div> <div class="Masthead"> <div class="BrandLogo"> <a title="Microsoft Developer Network" href="http://msdn.microsoft.com/en-us/"> <span> Microsoft Developer Network </span> </a></div><div class="Search"> <div class="SearchBox"> <form name="HeaderSearchForm" method="post" action=""> <input name="SearchAction" value="search" type="hidden"> <input value="Search MSDN with Bing" style="color: rgb(170, 170, 170); font-style: italic;" autocomplete="off" id="HeaderSearchTextBox" class="TextBoxSearch" title="Search MSDN with Bing" type="text"> <input id="HeaderSearchButton" onclick="return SearchClientClick();" class="SearchButton" alt="Click here to search" title="Search MSDN with Bing" type="button"> <span class="Bing"></span> <div style="display: none; text-align: left; border: 1px solid buttonshadow; position: absolute; z-index: 1000; padding: 2px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 255); font-family: arial;" id="SearchFlyoutContainer"><div id="SuggestionContainer"><ul style="list-style: none outside none; padding: 4px 2px 0px 1px; cursor: pointer; font-size: 8pt; margin: 1px;"></ul></div><div style="width: 100%; margin: 0px; text-align: right; font-size: 8pt;" id="FooterContainer"><a href="#">Close</a></div></div></form> </div></div> <div class="GlobalBar"> <div class="PassportScarab"> <a id="idPPScarab" href="https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=11&amp;ct=1294037183&amp;rver=6.0.5276.0&amp;wp=MCLBI&amp;wlcxt=msdn%24msdn%24msdn&amp;wreply=http:%2F%2Fmsdn.microsoft.com%2Fen-us%2Fwp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2&amp;lc=1033&amp;cb=&amp;id=254354"><span id="idPPScarabSIT">Sign in</span></a></div><div id="LocaleSelector"> <form id="ChangeLocaleForm" action="/en-us/SelectLocale?pageid=wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2"> <input name="fromPage" value="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2" type="hidden"> <div id="FlyoutTop"> <a title="Change your language" href="#Change+your+language" onclick="$('#ChangeLocaleForm').submit();return false;" id="LinkCountryLanguage" class="LocaleManagementFlyoutStaticLink"> United States (English) </a> </div> </form></div> <div class="Clear"></div> </div> <div class="Clear"></div> <div class="networkTagLineArea NetworkLogo"> <a title="Microsoft Developer Network" href="http://msdn.microsoft.com/en-us"></a> </div><div class="leftcap"></div> <div class="internav"> <a href="http://msdn.microsoft.com/en-us/default" class="normal" title="Home">Home</a><a href="http://msdn.microsoft.com/library/default.aspx" class="normal" title="Library">Library</a><a href="http://msdn.microsoft.com/en-us/bb188199" class="active" title="Learn">Learn</a><a href="http://msdn.microsoft.com/en-us/aa570309" class="normal" title="Downloads">Downloads</a><a href="http://msdn.microsoft.com/en-us/aa570318" class="normal" title="Support">Support</a><a href="http://msdn.microsoft.com/en-us/aa497440" class="normal" title="Community">Community</a><a href="http://social.msdn.microsoft.com/Forums/en-US/categories" class="normal" title="Forums">Forums</a></div><div class="rightcap"></div><div class="Clear"></div> </div> <div class="Clear"> </div> <div class="topleftcorner"> </div> <div class="toprightcorner"> </div> <div class="alley"> <div class="wrapper"> <div class="inner"> <div class="Clear"> </div> <div class="BreadCrumb"><div class="BreadCrumbInner EyebrowContainer"><a href="http://msdn.microsoft.com/en-us/default" class="EyebrowLink" title="Microsoft Developer Network">Microsoft Developer Network</a> &gt; <a href="http://msdn.microsoft.com/en-us/bb188199" class="EyebrowLink" title="Learn">Learn</a> &gt; <a href="http://msdn.microsoft.com/en-us/gg299335" class="EyebrowLink" title="Courses">Courses</a> &gt; <a href="http://msdn.microsoft.com/en-us/gg266499" class="EyebrowLink" title="Windows Phone 7 Training Course">Windows Phone 7 Training Course</a> &gt; <a href="http://msdn.microsoft.com/en-us/gg266479" class="EyebrowLink" title="XNA Framework 4.0 for Windows Phones">XNA Framework 4.0 for Windows Phones</a> &gt; <a href="http://msdn.microsoft.com/en-us/gg266465" class="EyebrowLink" title="Tombstoning, Launcher and Chooser, and then some with XNA Fremework">Tombstoning, Launcher and Chooser, and then some with XNA Fremework</a> &gt; <span class="EyebrowElement">Exercise 1: Play Background Music</span> </div></div><div id="mainSection"><div class="navpage"><table class="multicol"><tbody><tr><td class="innercol" valign="top"><div class="MainColumn"><h2 class="Title">Exercise 1: Play Background Music</h2><p>In this exercise, we will add background music to the game. </p><p>This feature allows the player (our user) to:</p><ul><li>Select
 a song from those available on the phone that immediately starts 
playing in the game background without affecting game performance</li><li>Select a different song and continue the game at any stage of the game</li></ul><p>To implement this feature we will use:</p><ul><li>XNA media framework classes <strong>MediaSource</strong> and <strong>MediaLibrary</strong> to get the list of the available songs</li><li>XNA media framework class <strong>MediaPlayer</strong> to play the song</li><li>The
 menu system that we developed in the first part of the lab to provide 
the player with a menu from which to select a song from the songs list</li></ul><p>The exercise includes two tasks:</p><ul><li>Implement the feature in a separate class</li><li>Use the feature class in the game</li></ul><a id="ID4EHF" href="#"></a><a id="ID4EOF" href="#"></a><p></p><a id="_Toc271904496" href="#"></a><h3>Task 1 – Implement the feature class</h3><p>The <strong>XNA 2D Game Development with XNA</strong>
 lab introduced the Game State Manager as a way to control the flow 
between the game’s different menus (screens). Each screen represents a 
menu or a logical segment of the game. For example, the first screen is 
the main menu, the next screen is a game segment, and so on. </p><p>In this task, you will add a new screen and create a new class, the <strong>MusicSelectionScreen</strong>, that wraps together the menu and media functionalities. In the next task you will use this class from the game UI</p><ol><li>Open
 the game, Source\Ex1-BackgroundMusic, in the lab folder (your 
development environment); this is the complete catapult game from the 
XNA 2D Game Development with XNA lab. </li><li>In the Screens folder, create a new class named MusicSelectionScreen.</li><li>In the file MusicSelectionScreen.cs, overwrite the using statements with the following code:<p>(Code Snippet – 2D <em>Game Development with XNA Part 2 – MusicSelectionScreen Usings</em>)</p><div class="CodeHighlighter"> <pre><code class="csharp"><ol><li><span class="cs__preproc">#region&nbsp;Using&nbsp;Statementsusing&nbsp;System;using&nbsp;System.Collections.Generic;using&nbsp;System.Linq;using&nbsp;GameStateManagement;using&nbsp;Microsoft.Xna.Framework;using&nbsp;Microsoft.Xna.Framework.Media;#endregion</span></li></ol></code></pre></div><p></p></li><li>Overwrite the namespace name according to our conventions with the following code:<div class="CodeHighlighter"> <pre><code class="csharp"><ol><li><span class="cs__keyword">namespace</span>&nbsp;CatapultGame;</li></ol></code></pre></div><p></p></li><li>Overwrite the class definition with the following code:<div class="CodeHighlighter"> <pre><code class="csharp"><ol><li><span class="cs__keyword">class</span>&nbsp;MusicSelectionScreen&nbsp;:&nbsp;MenuScreen{}</li></ol></code></pre></div><p></p><div class="CCI_Container clsNote"><div class="CCI_Header"><strong>Note:</strong></div><div class="CCI_Text"> notice that the class inherits the <strong>MenuScreen</strong>, because it will implement the menu functionality, as part of the Game State Manager.</div></div><p></p></li><li>Add the fields region to the class:<p>(Code Snippet – 2D <em>Game Development with XNA Part 2 – MusicSelectionScreen Fields</em>)</p><div class="CodeHighlighter"> <pre><code class="csharp"><ol><li><span class="cs__preproc">#region&nbsp;FieldsIList&lt;MediaSource&gt;&nbsp;mediaSourcesList;MediaLibrary&nbsp;mediaLibrary;GameScreen&nbsp;backgroundScreen;#endregion</span></li></ol></code></pre></div><p></p><div class="CCI_Container clsNote"><div class="CCI_Header"><strong>Note:</strong></div><div class="CCI_Text">
 notice the highlighted fields that store the media access objects. The 
Media Library class gives you access to the device media library (for 
example, the song list).</div></div><p></p></li><li>Add the initialization region to the class:<p>(Code Snippet – 2D <em>Game Development with XNA Part 2 – MusicSelectionScreen Initialization</em>)</p><div class="CodeHighlighter"> <pre><code class="csharp"><ol><li><span class="cs__preproc">#region&nbsp;Initializationpublic&nbsp;MusicSelectionScreen(GameScreen&nbsp;backgroundScreen)&nbsp;:&nbsp;base("Main"){&nbsp;IsPopup&nbsp;=&nbsp;true;&nbsp;this.backgroundScreen&nbsp;=&nbsp;backgroundScreen;&nbsp;//&nbsp;Get&nbsp;the&nbsp;default&nbsp;media&nbsp;source&nbsp;mediaSourcesList&nbsp;=&nbsp;MediaSource.GetAvailableMediaSources();&nbsp;//&nbsp;Use&nbsp;only&nbsp;first&nbsp;one&nbsp;mediaLibrary&nbsp;=&nbsp;new&nbsp;MediaLibrary(mediaSourcesList[0]);&nbsp;//&nbsp;Create&nbsp;maximum&nbsp;5&nbsp;entries&nbsp;with&nbsp;music&nbsp;from&nbsp;music&nbsp;collection&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;mediaLibrary.Songs.Count;&nbsp;i++)&nbsp;{&nbsp;if&nbsp;(i&nbsp;==&nbsp;5)&nbsp;break;&nbsp;Song&nbsp;song&nbsp;=&nbsp;mediaLibrary.Songs[i];&nbsp;//&nbsp;Create&nbsp;menu&nbsp;entry&nbsp;for&nbsp;the&nbsp;song.&nbsp;MenuEntry&nbsp;songMenuEntry&nbsp;=&nbsp;new&nbsp;MenuEntry(song.Name);&nbsp;//&nbsp;Hook&nbsp;up&nbsp;menu&nbsp;event&nbsp;handler&nbsp;songMenuEntry.Selected&nbsp;+=&nbsp;OnSongSelected;&nbsp;//&nbsp;Add&nbsp;song&nbsp;to&nbsp;the&nbsp;menu&nbsp;MenuEntries.Add(songMenuEntry);&nbsp;}&nbsp;//&nbsp;Create&nbsp;our&nbsp;menu&nbsp;entries.&nbsp;MenuEntry&nbsp;cancelMenuEntry&nbsp;=&nbsp;new&nbsp;MenuEntry("Cancel");&nbsp;//&nbsp;Hook&nbsp;up&nbsp;menu&nbsp;event&nbsp;handlers.&nbsp;cancelMenuEntry.Selected&nbsp;+=&nbsp;OnCancel;&nbsp;//&nbsp;Add&nbsp;entries&nbsp;to&nbsp;the&nbsp;menu.&nbsp;MenuEntries.Add(cancelMenuEntry);}#endregion</span></li></ol></code></pre></div><p></p><div class="CCI_Container clsNote"><div class="CCI_Header"><strong>Note:</strong></div><div class="CCI_Text">
 Notice also that we initialized the media objects MediaSourcesList and 
MediaLibrary. We will use them to get the available songs. The 
MediaLibrary object provides the songs via its property Songs. We just 
pick the first five songs in this sample, but you can easily extend this
 functionality. Also, be sure to review the MediaLibrary class for its 
initial properties, which give you access to song art – for example 
album pictures. </div></div><p></p></li><li>Add the "Event Handlers" region to the class:<p>(Code Snippet – 2D <em>Game Development with XNA Part 2 – MusicSelectionScreen Event Handlers</em>)</p><div class="CodeHighlighter"> <pre><code class="csharp"><ol><li><span class="cs__preproc">#region&nbsp;Event&nbsp;Handlers&nbsp;for&nbsp;Menu&nbsp;Items///&nbsp;&lt;summary&gt;///&nbsp;Handles&nbsp;Song&nbsp;selection&nbsp;and&nbsp;exits&nbsp;the&nbsp;menu///&nbsp;&lt;/summary&gt;private&nbsp;void&nbsp;OnSongSelected(object&nbsp;sender,&nbsp;EventArgs&nbsp;e){&nbsp;var&nbsp;selection&nbsp;=&nbsp;from&nbsp;song&nbsp;in&nbsp;mediaLibrary.Songs&nbsp;where&nbsp;song.Name&nbsp;==&nbsp;(sender&nbsp;as&nbsp;MenuEntry).Text&nbsp;select&nbsp;song;&nbsp;Song&nbsp;selectedSong&nbsp;=&nbsp;selection.FirstOrDefault();&nbsp;if&nbsp;(null&nbsp;!=&nbsp;selectedSong)&nbsp;MediaPlayer.Play(selectedSong);&nbsp;backgroundScreen.ExitScreen();&nbsp;ExitScreen();}///&nbsp;&lt;summary&gt;///&nbsp;Handles&nbsp;"Exit"&nbsp;menu&nbsp;item&nbsp;selection///&nbsp;&lt;/summary&gt;protected&nbsp;override&nbsp;void&nbsp;OnCancel(Microsoft.Xna.Framework.PlayerIndex&nbsp;playerIndex){&nbsp;backgroundScreen.ExitScreen();&nbsp;ExitScreen();}#endregion</span></li></ol></code></pre></div><p></p><div class="CCI_Container clsNote"><div class="CCI_Header"><strong>Note:</strong></div><div class="CCI_Text">
 The OnSongSelected function handles the song selection event. It 
retrieves the correct song object from the mediaLibrary, per the song in
 the menu entry that we populated earlier in the constructor, and plays 
it using the MediaPlayer class. </div></div><p></p></li></ol><p>This 
concludes this task. The MusicSelectionScreen class contains all the 
required functionality to choose and play a song. In the next tasks, we 
will embed this class in the game and test its functionality. </p><a id="_Toc271904497" href="#"></a><h3>Task 2 – Use the MusicSelectionScreen class in the game</h3><p>We
 will use the new feature by selecting the correspondent item in the 
game menu. To achieve this, we need to change the existing game main 
menu class--remember, we are extending an existing game.</p><ol><li>Open the MainMenuScreen.cs file.</li><li>Add the following statement to the Using Statements region:<div class="CodeHighlighter"> <pre><code class="csharp"><ol><li><span class="cs__keyword">using</span>&nbsp;Microsoft.Xna.Framework.Media;</li></ol></code></pre></div><p></p><div class="CCI_Container clsNote"><div class="CCI_Header"><strong>Note:</strong></div><div class="CCI_Text"> This statement allowed us access <strong>MediaPlayer</strong>. As we will see below, we need access <strong>MediaPlayer</strong> in this class to stop music when we will exit the application.</div></div><p></p></li><li>Add the following code inside the MainMenuScreen constructor:<p>(Code Snippet – 2D <em>Game Development with XNA Part 2 – MainMenuScreen Select Background Music Menu</em>)</p><div class="CodeHighlighter"> <pre><code class="csharp"><ol><li>MenuEntry&nbsp;selectBackgroundMusic&nbsp;=&nbsp;<span class="cs__keyword">new</span>&nbsp;MenuEntry(<span class="cs__string">"Select&nbsp;Background&nbsp;Music"</span>);selectBackgroundMusic.Selected&nbsp;+=&nbsp;SelectBackgroundMusicMenuEntrySelected;MenuEntries.Add(selectBackgroundMusic);</li></ol></code></pre></div><p></p><div class="CCI_Container clsNote"><div class="CCI_Header"><strong>Note:</strong></div><div class="CCI_Text"> this step added a "Select Background Music" to the game menu and assigned an event handler to its selected event. </div></div><p></p></li><li>Add the following code inside the "Event Handlers for Menu Items" region:<p>(Code Snippet – 2D <em>Game Development with XNA Part 2 – MainMenuScreen SelectBackgroundMusicMenuEntrySelected</em>)</p><div class="CodeHighlighter"> <pre><code class="csharp"><ol><li><span class="cs__com">///&nbsp;Handles&nbsp;"Select&nbsp;Background&nbsp;Music"&nbsp;menu&nbsp;item&nbsp;selection///&nbsp;&lt;/summary&gt;///&nbsp;&lt;param&nbsp;name="sender"&gt;&lt;/param&gt;///&nbsp;&lt;param&nbsp;name="e"&gt;&lt;/param&gt;void&nbsp;SelectBackgroundMusicMenuEntrySelected(object&nbsp;sender,&nbsp;EventArgs&nbsp;e){&nbsp;var&nbsp;backgroundScreen&nbsp;=&nbsp;new&nbsp;BackgroundScreen();&nbsp;ScreenManager.AddScreen(backgroundScreen,&nbsp;null);&nbsp;ScreenManager.AddScreen(new&nbsp;MusicSelectionScreen(ScreenManager.Game,&nbsp;backgroundScreen),&nbsp;null);}</span></li></ol></code></pre></div><p></p><div class="CCI_Container clsNote"><div class="CCI_Header"><strong>Note:</strong></div><div class="CCI_Text">
 this step implemented the "Select Background Music" menu item handler. 
This uses the Game State Manager, represented by the ScreenManager 
object, and adds a new screen, represented as a Screen class. In our 
case, this is the MusicSelectionScreen. </div></div><p></p></li><li>Replace the OnCancel event handler inside the "Event Handlers for Menu Items" region with the following code:<p>(Code Snippet – 2D <em>Game Development with XNA Part 2 – MainMenuScreen OnCancel</em>)</p><div class="CodeHighlighter"> <pre><code class="csharp"><ol><li><span class="cs__com">///&nbsp;&lt;summary&gt;///&nbsp;Handles&nbsp;"Exit"&nbsp;menu&nbsp;item&nbsp;selection///&nbsp;&lt;/summary&gt;///&nbsp;protected&nbsp;override&nbsp;void&nbsp;OnCancel(PlayerIndex&nbsp;playerIndex){&nbsp;if&nbsp;(MediaPlayer.State&nbsp;==&nbsp;MediaState.Playing)&nbsp;MediaPlayer.Stop();&nbsp;ScreenManager.Game.Exit();}</span></li></ol></code></pre></div><p></p><div class="CCI_Container clsNote"><div class="CCI_Header"><strong>Note:</strong></div><div class="CCI_Text"> On this step, we added to the <strong>OnCancel</strong> event handler two lines, they are highlighted, which stop the background music when the player cancels the game. </div></div><p></p></li><li>Go
 ahead and compile and run the game. You should see the following screen
 in the emulator. This is the first game screen, showing the game’s main
 menu. Note that now it contains the new menu item – “Select Background 
Music”:<p><img src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_to_002.png" alt=""></p><div class="label"><strong>Figure 1</strong><p><em>Main Screen with the new item</em></p></div><p></p></li><li>Selecting
 "Select Background Music" launches the MusicSelectionScreen from the 
previous task launches. The following picture shows this screen; note 
the list of songs.<p><img src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2.png" alt=""></p><div class="label"><strong>Figure 2</strong><p><em>Background Music Selection screen</em></p></div></li></ol><p></p><p>When
 we select a song, the screen is closed and we return to the game’s main
 menu. You should hear the selected song in the background. </p><p><strong>Congratulations! The game is now playing background music.</strong></p><div class="Center"><div class="BostonPostCard"><h4><strong><a href="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic1"> &lt; previous </a> | <a href="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic3"> next &gt; </a></strong></h4></div></div></div></td><td valign="top"><div class="RightAdRail"><div class="BostonPostCard"> <div style="width: 300px; height: 250px;" id="c_c35d2fe3c9aa4e6a810ff442ad534942" align="center"><iframe src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/a_002.htm" name="dapIfM0" id="dapIfM0" width="300" frameborder="0" height="250" scrolling="no"></iframe></div> <p></p><h4>Contents</h4><ul class="bulletedlist"><li><a href="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic1#_Toc271904494#_Toc271904494"> Overview </a></li><li><strong><a href="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2#_Toc271904495#_Toc271904495"> Exercise 1: Play Background Music </a></strong><ul><li><a href="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2#_Toc271904496#_Toc271904496"> Task 1 – Implement the feature class </a></li><li><a href="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2#_Toc271904497#_Toc271904497"> Task 2 – Use the MusicSelectionScreen class in the game </a></li></ul></li><li><a href="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic3#_Toc271904498#_Toc271904498"> Exercise 2: Save and Restore the Game State </a></li><li><a href="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic4#_Toc271904500#_Toc271904500"> Exercise 3: Launch Another Application from the Game </a></li><li><a href="http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic5#_Toc271904502#_Toc271904502"> Summary </a></li></ul></div></div></td></tr></tbody></table></div></div> <div id="footerAd" style="margin-left: auto; margin-right: auto; display: table;"> <p> </p><div style="width: 728px; height: 90px;" id="c_30314ca0720d4885af453e004e59a019" align="center"><iframe src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/a_002.htm" name="dapIfM1" id="dapIfM1" width="728" frameborder="0" height="90" scrolling="no"></iframe></div> <p></p> </div> </div> </div> </div> <div class="ClearBottom"> </div> <div class="bottomleftcorner"> </div> <div class="bottomrightcorner"> </div> <div class="FooterLinks"><span class="FooterCopyright" title="© 2010  Microsoft Corporation. All rights reserved.">© 2010 Microsoft Corporation. All rights reserved.</span><a href="http://msdn.microsoft.com/cc300389.aspx" title="Terms of Use">Terms of Use</a><span class="Pipe">|</span><a href="http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx" title="Trademarks">Trademarks</a><span class="Pipe">|</span><a href="http://www.microsoft.com/info/privacy.mspx" title="Privacy Statement">Privacy Statement</a><span class="Pipe" id="ctl00_Footer_PipeSpan3">|</span><a target="_blank" id="bottomsitefeedbacklink" title="Site Feedback" href="https://lab.msdn.microsoft.com/mailform/contactus.aspx?refurl=http://msdn.microsoft.com/en-us/wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2&amp;loc=en-us">Site Feedback</a></div> </div> </div> </div> </div> <noscript><img alt="DCSIMG" width="1" height="1" src="http://m.webtrends.com/dcsmgru7m99k7mqmgrhudo0k8_8c6m/njs.gif?dcsuri=/nojavascript&amp;WT.js=No" /></noscript><noscript><a href="http://www.omniture.com" title="Web Analytics"><img src="http://msstonojsmsdn.112.2o7.net/b/ss/msstonojsmsdn/1/H.20.2--NS/0" height="1" width="1" border="0" alt="" /></a></noscript> <script type="text/javascript" src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/global.js"></script><script type="text/javascript">
    function SearchClick() {
        window.location = "http://social.msdn.microsoft.com/search/en-us/?query=" + document.getElementById("HeaderSearchTextBox").value();
    }

    function SearchClientClick() {
        if (document.getElementById("HeaderSearchTextBox").value == document.getElementById("HeaderSearchTextBox").title) return false;
        document.HeaderSearchForm.submit();return true;
    }
</script><script type="text/javascript" id="mscom.srch.searchBox" src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/SearchBox.js" defer="defer"></script><script src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/jquery.js" type="text/javascript"></script><script src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/recipes.js" type="text/javascript"></script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript">ChiliBook.lineNumbers = true; ChiliBook.automatic = true;</script><script type="text/javascript" src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/dap.js"></script><script type="text/javascript">
      try {
        dapMgr.enableACB("c_c35d2fe3c9aa4e6a810ff442ad534942", false);
        dapMgr.renderAd("c_c35d2fe3c9aa4e6a810ff442ad534942", "&amp;PG=CMS3DB&amp;AP=1089", "300", "250");
      } catch (ex) { }
    </script><script type="text/javascript">
      try {
        dapMgr.enableACB("c_30314ca0720d4885af453e004e59a019", false);
        dapMgr.renderAd("c_30314ca0720d4885af453e004e59a019", "&amp;PG=CMS3DL&amp;AP=1390", "728", "90");
      } catch (ex) { }
    </script><script type="text/javascript">

      var wt_nvr_ru = "WT_NVR_RU";
      var wt_fpcdom = ".microsoft.com";
      var wt_domlist = "msdn.microsoft.com";
      var wt_pathlist = "";var wt_paramlist = "DCSext.mtps_devcenter";
      var wt_siteid = "MSDN";
      var gDomain="m.webtrends.com";
var gDcsId = "dcsmgru7m99k7mqmgrhudo0k8_8c6m";
var gFpc = "WT_FPC";
/*<![CDATA[*/
if (document.cookie.indexOf(gFpc + "=") == -1) { document.write("<scr" + "ipt type='text/javascript' src='" + "http" + (window.location.protocol.indexOf('https:') == 0 ? 's' : '') + "://" + gDomain + "/" + gDcsId + "/wtid.js" + "'><\/scr" + "ipt>"); }
/*]]>*/
var detectedLocale = "en-us";
var wtsp = "_msdn_";
var gTrackEvents = "1";
</script><script type="text/javascript" src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/webtrendsscript.js"></script><script type="text/javascript">var omni_guid = 'c_c59da7af8e9244c295dcb90c623d3b3f';</script><script language="javascript" type="text/javascript" src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/broker.js"></script><!-- HtmlResponseFilter:23:ms --><script src="wp7trainingcourse_2dgamedevelopmentwithxnapart2lab_topic2_files/broker-config.js"></script></body></html>